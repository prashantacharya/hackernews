{"version":3,"sources":["constants.js","Context/StoriesContext.js","Components/PostList/index.js","Components/Button/index.js","Pages/Home/index.js","Components/Comment/index.js","Pages/Story/index.js","Components/Header/index.js","Components/Footer/index.js","App.js","index.js"],"names":["BASE_URL","StoriesContext","createContext","StoriesContextWrapper","state","id","data","selectedPage","errorMsg","isLoading","fetchDataFromId","a","promises","startIndex","endIndex","i","push","Axios","get","Promise","all","response","map","res","setState","request","message","fetchIDs","this","prevProps","prevState","Provider","value","props","children","Component","PostList","className","to","post","title","score","descendants","by","Button","onClick","defaultProps","Home","selected","decrementSelected","incrementSelected","context","selectedStartIndex","selectedPageData","slice","totalPages","length","style","textAlign","disabled","key","contextType","Comment","comments","comment","console","log","CommentItem","dangerouslySetInnerHTML","__html","text","kids","Post","url","href","target","rel","marginTop","Story","match","useRouteMatch","useContext","filter","element","params","Header","Footer","App","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e5fbdae4.chunk.js","sourcesContent":["export const BASE_URL = 'https://hacker-news.firebaseio.com/v0';\nexport const POSTS_PER_PAGE = 20;\n","import React, { createContext, Component } from 'react';\nimport Axios from 'axios';\n\nimport { BASE_URL, POSTS_PER_PAGE } from '../constants';\n\nexport const StoriesContext = createContext();\n\nclass StoriesContextWrapper extends Component {\n  state = {\n    id: [],\n    data: [],\n    selectedPage: 0,\n    errorMsg: '',\n    isLoading: false,\n  };\n\n  fetchDataFromId = async () => {\n    const promises = [];\n\n    const startIndex = this.state.selectedPage * POSTS_PER_PAGE;\n    const endIndex = startIndex + POSTS_PER_PAGE;\n\n    for (let i = startIndex; i < endIndex; i++) {\n      promises.push(Axios.get(`${BASE_URL}/item/${this.state.id[i]}.json`));\n    }\n    try {\n      const response = await Promise.all(promises);\n      const data = response.map((res) => res.data);\n      this.setState({ data: [...this.state.data, ...data] }, () => {\n        if ((this.state.selectedPage + 1) * POSTS_PER_PAGE < 499) {\n          this.setState({ selectedPage: this.state.selectedPage + 1 });\n        }\n        this.setState({ isLoading: false });\n      });\n    } catch (error) {\n      if (error.request) {\n        this.setState({ errorMsg: 'Could not connect to the internet' });\n      } else if (error.response) {\n        this.setState({ errorMsg: error.message });\n      } else {\n        this.setState({ errorMsg: 'Unidentified Error Occured' });\n      }\n    }\n  };\n\n  fetchIDs = async () => {\n    this.setState({ isLoading: true });\n\n    try {\n      const data = await Axios.get(`${BASE_URL}/topstories.json`);\n      this.setState(\n        {\n          id: data.data,\n        },\n        () => {\n          this.fetchDataFromId();\n        }\n      );\n    } catch (error) {\n      if (error.request) {\n        this.setState({ errorMsg: 'Could not connect to the internet' });\n      } else if (error.response) {\n        this.setState({ errorMsg: error.message });\n      } else {\n        this.setState({ errorMsg: 'Unidentified Error Occured' });\n      }\n    }\n  };\n\n  componentDidMount() {\n    this.fetchIDs();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.selectedPage !== this.state.selectedPage)\n      this.fetchDataFromId();\n  }\n\n  render() {\n    return (\n      <StoriesContext.Provider value={{ data: this.state }}>\n        {this.props.children}\n      </StoriesContext.Provider>\n    );\n  }\n}\n\nexport default StoriesContextWrapper;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport { GoComment } from 'react-icons/go';\nimport { AiOutlineStar, AiOutlineUser } from 'react-icons/ai';\n\nimport './postlist.css';\n\nfunction PostList(props) {\n  return (\n    <li className=\"story-card\">\n      <Link to={`/story/${props.post.id}`}>\n        <h2>{props.post.title}</h2>\n      </Link>\n\n      <ul className=\"story-details\">\n        <li>\n          <AiOutlineStar /> {props.post.score}\n        </li>\n        <li>\n          <GoComment /> {props.post.descendants}\n        </li>\n        <li>\n          <AiOutlineUser /> {props.post.by}\n        </li>\n      </ul>\n    </li>\n  );\n}\n\nexport default PostList;\n","import React from 'react';\n\nfunction Button({ children, onClick, ...props }) {\n  return (\n    <button onClick={onClick} {...props}>\n      {children}\n    </button>\n  );\n}\n\nButton.defaultProps = {\n  children: 'Button',\n  onClick: () => {},\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { StoriesContext } from '../../Context/StoriesContext';\n\nimport './home.css';\nimport PostList from '../../Components/PostList';\nimport { POSTS_PER_PAGE } from '../../constants';\nimport Button from '../../Components/Button';\nimport { BsChevronCompactLeft, BsChevronCompactRight } from 'react-icons/bs';\n\nclass Home extends Component {\n  state = { selected: 0 };\n  static contextType = StoriesContext;\n\n  decrementSelected = () => {\n    this.setState({\n      selected: this.state.selected - 1,\n    });\n  };\n\n  incrementSelected = () => {\n    this.setState({\n      selected: this.state.selected + 1,\n    });\n  };\n\n  render() {\n    const { data, isLoading } = this.context.data;\n    const selectedStartIndex = this.state.selected * POSTS_PER_PAGE;\n    const selectedPageData = data.slice(\n      selectedStartIndex,\n      selectedStartIndex + POSTS_PER_PAGE\n    );\n    const totalPages = data.length / POSTS_PER_PAGE;\n\n    return (\n      <div className=\"home\">\n        <div className=\"container\">\n          {isLoading && <p style={{ textAlign: 'center' }}>Loading</p>}\n          {!isLoading && (\n            <div className=\"controls\">\n              <div className=\"control-text\">\n                {this.state.selected + 1} <span>/ {totalPages}</span>\n              </div>\n              <div>\n                <Button\n                  className=\"control-btn\"\n                  onClick={this.decrementSelected}\n                  disabled={this.state.selected === 0}\n                >\n                  <BsChevronCompactLeft />\n                </Button>\n                <Button\n                  className=\"control-btn\"\n                  onClick={this.incrementSelected}\n                  disabled={this.state.selected + 1 === totalPages}\n                >\n                  <BsChevronCompactRight />\n                </Button>\n              </div>\n            </div>\n          )}\n          <ul>\n            {selectedPageData.map((post) => (\n              <PostList key={post.id} post={post} />\n            ))}\n          </ul>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Home;\n","import React, { Component } from 'react';\nimport './comment.css';\nimport Axios from 'axios';\nimport { BASE_URL } from '../../constants';\nimport { AiOutlineUser } from 'react-icons/ai';\n\nclass Comment extends Component {\n  state = {\n    data: [],\n    isLoading: true,\n  };\n\n  async componentDidMount() {\n    try {\n      const promises = this.props.comments.map((comment) =>\n        Axios.get(`${BASE_URL}/item/${comment}.json`)\n      );\n\n      const response = await Promise.all(promises);\n      const data = await response.map((res) => res.data);\n      this.setState({ data, isLoading: false });\n    } catch (error) {\n      console.log(error);\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"comments-wrapper\">\n        {this.state.isLoading && <p style={{ textAlign: 'center' }}>Loading</p>}\n        <ul>\n          {this.state.data.map((comment) => (\n            <CommentItem comment={comment} key={comment.id} />\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\nfunction CommentItem({ comment }) {\n  return (\n    <li className=\"comment-item\">\n      <p dangerouslySetInnerHTML={{ __html: comment.text }}></p>\n      <div className=\"comment-by\">\n        <AiOutlineUser /> {comment.by}\n      </div>\n\n      {comment.kids && <Comment comments={comment.kids} />}\n    </li>\n  );\n}\n\nComment.defaultProps = {\n  comments: [],\n};\n\nexport default Comment;\n","import React, { useContext, Fragment } from 'react';\nimport { GoComment } from 'react-icons/go';\nimport { useRouteMatch } from 'react-router-dom';\nimport { AiOutlineStar, AiOutlineUser, AiOutlineLink } from 'react-icons/ai';\n\nimport { StoriesContext } from '../../Context/StoriesContext';\nimport Comment from '../../Components/Comment';\nimport './story.css';\n\nfunction Story() {\n  const match = useRouteMatch();\n  const context = useContext(StoriesContext);\n  const data = context.data.data;\n  const post = data.filter((element) => element.id === +match.params.id)[0];\n\n  return (\n    <div className=\"story\">\n      <div className=\"container\">\n        {post ? (\n          <Post post={post} />\n        ) : (\n          <p style={{ textAlign: 'center' }}>Loading</p>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction Post({ post }) {\n  return (\n    <Fragment>\n      <div className=\"story-header\">\n        <h2>{post.title}</h2>\n        <ul className=\"story-details\">\n          <li>\n            <AiOutlineStar /> {post.score}\n          </li>\n          <li>\n            <GoComment /> {post.descendants}\n          </li>\n          <li>\n            <AiOutlineUser /> {post.by}\n          </li>\n          {post.url && (\n            <li>\n              <AiOutlineLink />{' '}\n              <a href={post.url} target=\"_blank\" rel=\"noopener noreferrer\">\n                View Story\n              </a>\n            </li>\n          )}\n        </ul>\n      </div>\n\n      {post.text && (\n        <p\n          className=\"post-text\"\n          dangerouslySetInnerHTML={{ __html: post.text }}\n        />\n      )}\n      {post.kids && <h3 style={{ marginTop: 25 }}>Comments: </h3>}\n      <Comment comments={post.kids} />\n    </Fragment>\n  );\n}\n\nexport default Story;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './header.css';\n\nfunction Header() {\n  return (\n    <header>\n      <div className=\"container\">\n        <Link to=\"/hackernews\">\n          <h1>Hackernews</h1>\n        </Link>\n      </div>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\nimport './footer.css';\n\nfunction Footer() {\n  return (\n    <footer>\n      <div className=\"container\">\n        Created By &nbsp;\n        <a\n          href=\"https://github.com/prashantacharya\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          Prashant Acharya\n        </a>\n      </div>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\nimport { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\n\nimport Home from './Pages/Home';\nimport Story from './Pages/Story';\nimport Header from './Components/Header';\nimport Footer from './Components/Footer';\n\nfunction App() {\n  return (\n    <Router>\n      <div className=\"App\">\n        <Header />\n        <Switch>\n          <Route path=\"/story/:id\">\n            <Story />\n          </Route>\n          <Route path={['/', '/hackernews']}>\n            <Home />\n          </Route>\n        </Switch>\n        <Footer />\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './App';\nimport './styles/index.css';\nimport StoriesContextWrapper from './Context/StoriesContext';\n\nReactDOM.render(\n  <StoriesContextWrapper>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </StoriesContextWrapper>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}