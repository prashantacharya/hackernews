(this.webpackJsonphackernews=this.webpackJsonphackernews||[]).push([[0],{36:function(e,t,a){e.exports=a(71)},59:function(e,t,a){},60:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(33),l=a.n(c),s=a(8),o=a(2),i=a(9),u=a(10),m=a(11),d=a(12),p=a(7),E=a.n(p),h=a(22),f=a(14),v=a(15),b=a.n(v),g="https://hacker-news.firebaseio.com/v0",y=Object(n.createContext)(),k=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={id:[],data:[],selectedPage:0,errorMsg:"",isLoading:!1},e.fetchDataFromId=Object(f.a)(E.a.mark((function t(){var a,n,r,c,l,s;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(a=[],n=20*e.state.selectedPage,r=n+20,c=n;c<r;c++)a.push(b.a.get("".concat(g,"/item/").concat(e.state.id[c],".json")));return t.prev=4,t.next=7,Promise.all(a);case 7:l=t.sent,s=l.map((function(e){return e.data})),e.setState({data:[].concat(Object(h.a)(e.state.data),Object(h.a)(s))},(function(){20*(e.state.selectedPage+1)<499&&e.setState({selectedPage:e.state.selectedPage+1}),e.setState({isLoading:!1})})),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(4),t.t0.request?e.setState({errorMsg:"Could not connect to the internet"}):t.t0.response?e.setState({errorMsg:t.t0.message}):e.setState({errorMsg:"Unidentified Error Occured"});case 15:case"end":return t.stop()}}),t,null,[[4,12]])}))),e.fetchIDs=Object(f.a)(E.a.mark((function t(){var a;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isLoading:!0}),t.prev=1,t.next=4,b.a.get("".concat(g,"/topstories.json"));case 4:a=t.sent,e.setState({id:a.data},(function(){e.fetchDataFromId()})),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),t.t0.request?e.setState({errorMsg:"Could not connect to the internet"}):t.t0.response?e.setState({errorMsg:t.t0.message}):e.setState({errorMsg:"Unidentified Error Occured"});case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.fetchIDs()}},{key:"componentDidUpdate",value:function(e,t){t.selectedPage!==this.state.selectedPage&&this.fetchDataFromId()}},{key:"render",value:function(){return r.a.createElement(y.Provider,{value:{data:this.state}},this.props.children)}}]),a}(n.Component),j=(a(59),a(16)),O=a(6);a(60);var x=function(e){return r.a.createElement("li",{className:"story-card"},r.a.createElement(s.b,{to:"/story/".concat(e.post.id)},r.a.createElement("h2",null,e.post.title)),r.a.createElement("ul",{className:"story-details"},r.a.createElement("li",null,r.a.createElement(O.b,null)," ",e.post.score),r.a.createElement("li",null,r.a.createElement(j.a,null)," ",e.post.descendants),r.a.createElement("li",null,r.a.createElement(O.c,null)," ",e.post.by)))},S=a(35);function w(e){var t=e.children,a=e.onClick,n=Object(S.a)(e,["children","onClick"]);return r.a.createElement("button",Object.assign({onClick:a},n),t)}w.defaultProps={children:"Button",onClick:function(){}};var N=w,C=a(21),P=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={selected:0},e.decrementSelected=function(){e.setState({selected:e.state.selected-1})},e.incrementSelected=function(){e.setState({selected:e.state.selected+1})},e}return Object(u.a)(a,[{key:"render",value:function(){var e=this.context.data,t=e.data,a=e.isLoading,n=20*this.state.selected,c=t.slice(n,n+20),l=t.length/20;return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"container"},a&&r.a.createElement("p",{style:{textAlign:"center"}},"Loading"),!a&&r.a.createElement("div",{className:"controls"},r.a.createElement("div",{className:"control-text"},this.state.selected+1," ",r.a.createElement("span",null,"/ ",l)),r.a.createElement("div",null,r.a.createElement(N,{className:"control-btn",onClick:this.decrementSelected,disabled:0===this.state.selected},r.a.createElement(C.a,null)),r.a.createElement(N,{className:"control-btn",onClick:this.incrementSelected,disabled:this.state.selected+1===l},r.a.createElement(C.b,null)))),r.a.createElement("ul",null,c.map((function(e){return r.a.createElement(x,{key:e.id,post:e})})))))}}]),a}(n.Component);P.contextType=y;var L=P,M=(a(66),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={data:[],isLoading:!0},e}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var e=Object(f.a)(E.a.mark((function e(){var t,a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=this.props.comments.map((function(e){return b.a.get("".concat(g,"/item/").concat(e,".json"))})),e.next=4,Promise.all(t);case 4:return a=e.sent,e.next=7,a.map((function(e){return e.data}));case 7:n=e.sent,this.setState({data:n,isLoading:!1}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"comments-wrapper"},this.state.isLoading&&r.a.createElement("p",{style:{textAlign:"center"}},"Loading"),r.a.createElement("ul",null,this.state.data.map((function(e){return r.a.createElement(A,{comment:e,key:e.id})}))))}}]),a}(n.Component));function A(e){var t=e.comment;return r.a.createElement("li",{className:"comment-item"},r.a.createElement("p",{dangerouslySetInnerHTML:{__html:t.text}}),r.a.createElement("div",{className:"comment-by"},r.a.createElement(O.c,null)," ",t.by),t.kids&&r.a.createElement(M,{comments:t.kids}))}M.defaultProps={comments:[]};var D=M;a(67);function I(e){var t=e.post;return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"story-header"},r.a.createElement("h2",null,t.title),r.a.createElement("ul",{className:"story-details"},r.a.createElement("li",null,r.a.createElement(O.b,null)," ",t.score),r.a.createElement("li",null,r.a.createElement(j.a,null)," ",t.descendants),r.a.createElement("li",null,r.a.createElement(O.c,null)," ",t.by),t.url&&r.a.createElement("li",null,r.a.createElement(O.a,null)," ",r.a.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},"View Story")))),t.text&&r.a.createElement("p",{className:"post-text"},t.text),t.kids&&r.a.createElement("h3",{style:{marginTop:25}},"Comments: "),r.a.createElement(D,{comments:t.kids}))}var F=function(){var e=Object(o.f)(),t=Object(n.useContext)(y).data.data.filter((function(t){return t.id===+e.params.id}))[0];return r.a.createElement("div",{className:"story"},r.a.createElement("div",{className:"container"},t?r.a.createElement(I,{post:t}):r.a.createElement("p",{style:{textAlign:"center"}},"Loading")))};a(68);var _=function(){return r.a.createElement("header",null,r.a.createElement("div",{className:"container"},r.a.createElement(s.b,{to:"/hackernews"},r.a.createElement("h1",null,"Hackernews"))))};a(69);var B=function(){return r.a.createElement("footer",null,r.a.createElement("div",{className:"container"},"Created By \xa0",r.a.createElement("a",{href:"https://github.com/prashantacharya",target:"_blank",rel:"noopener noreferrer"},"Prashant Acharya")))};var T=function(){return r.a.createElement(s.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(_,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{path:"/story/:id"},r.a.createElement(F,null)),r.a.createElement(o.a,{path:["/","/hackernews"]},r.a.createElement(L,null))),r.a.createElement(B,null)))};a(70);l.a.render(r.a.createElement(k,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null))),document.getElementById("root"))}},[[36,1,2]]]);
//# sourceMappingURL=main.9dccd8cf.chunk.js.map